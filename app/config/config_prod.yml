imports:
    - { resource: config.yml }

#framework:
#    validation:
#        cache: apc

#doctrine:
#    orm:
#        metadata_cache_driver: apc
#        result_cache_driver: apc
#        query_cache_driver: apc

monolog:
    handlers:
        main:
            type:         fingers_crossed
            action_level: error
            handler:      nested
        nested:
            type:  stream
            path:  "%kernel.logs_dir%/%kernel.environment%.log"
            level: debug
        console:
            type:  console

services:
    kernel.listener.AppEventListener:
        class: Shoko\AppBundle\EventListener\AppExceptionListener
        arguments: [@twig, @translator]
        tags:
            - { name: kernel.event_listener, event: kernel.exception, method: onKernelException }

# Fos Cache Http Bundle
fos_http_cache:
    cache_control:
        defaults:
            overwrite: true
        rules:
            # match everything to set defaults
            -
                match:
                    path: ^/
                headers:
                    overwrite: false
                    cache_control: { public: true, max_age: 86400, s_maxage: 86400 }
                    last_modified: "-1 day"

# parameters:
#     httpProtocol: https
